webpackJsonp([1],{EkB2:function(e,t){},M89r:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("TsY+");var a=n("mXa2"),r=n.n(a),s=n("IvJb"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"min-height":"100%",height:"100%",margin:"0px"},attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=n("C7Lr")({name:"App"},o,!1,function(e){n("dcI2")},null,null).exports,l=n("zO6J"),u=n("4YfN"),c=n.n(u),d=n("9rMa"),p={name:"smenu",data:function(){return{msg:"Welcome to Your Vue.js App"}},computed:{moduleList:function(){return this.$store.state.menu.moduleList}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},selectGroup:function(e){console.log(e)},selectMethod:function(e,t){console.log(1),this.$router.push({path:"/method/"+e})}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticStyle:{border:"0px"},attrs:{"background-color":"#337ab7","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.selectMethod,open:e.handleOpen,close:e.handleClose}},e._l(e.moduleList,function(t,a){return n("el-submenu",{key:a+"",attrs:{index:a+""}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),e._v(" "),n("span",[e._v(e._s(a+1)+" "+e._s(t.name))])]),e._v(" "),t.apiList.length>1?e._l(t.apiList,function(t,r){return n("el-menu-item-group",{key:a+"-"+r,attrs:{index:a+"-"+r},on:{click:function(n){e.selectGroup(t)}}},[n("template",{slot:"title"},[n("span",{staticStyle:{"font-weight":"bold",color:"darkorange"}},[e._v("\n          "+e._s(a+1+"."+(r+1))+" "+e._s(t.name))])]),e._v(" "),e._l(t.methodList,function(t,s){return n("el-menu-item",{key:a+"-"+r+"-"+s,attrs:{index:a+"-"+r+"-"+s}},[e._v("\n          "+e._s(a+1+"."+(r+1)+"."+(s+1))+" "+e._s(t.name)+"\n        ")])})],2)}):1==t.apiList.length?e._l(t.apiList[0].methodList,function(t,r){return n("el-menu-item",{key:a+"-0-"+r,attrs:{index:a+"-0-"+r}},[e._v("\n        "+e._s(a+1+"."+(r+1))+" "+e._s(t.name)+"\n      ")])}):e._e()],2)}))},staticRenderFns:[]};var f={name:"index",components:{smenu:n("C7Lr")(p,m,!1,function(e){n("iHEG")},"data-v-454e3bf8",null).exports},data:function(){return{msg:"Welcome to Your Vue.js App"}},computed:{config:function(){return this.$store.state.menu.config}},created:function(){this.loadData()},methods:c()({},Object(d.b)("menu",["SET_CONFIG","SET_DEFINES","SET_MODULE_LIST"]),{loadData:function(){var e=this;e.$http.get("/japi/docs-json",{}).then(function(t){e.SET_CONFIG(t.data.config),e.SET_DEFINES(t.data.defines),e.SET_MODULE_LIST(t.data.moduleList),document.title="JAPI-"+t.data.config.title})}})},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticStyle:{height:"100%"}},[n("el-header",[e._v(e._s(e.config.title))]),e._v(" "),n("el-container",[n("el-aside",[n("smenu")],1),e._v(" "),n("el-container",[n("el-main",{staticStyle:{padding:"5px"}},[n("router-view")],1),e._v(" "),n("el-footer",{staticClass:"c-footer",attrs:{height:"30px"}},[e._v("Copyright 2018 @ "),n("a",{staticStyle:{color:"darkgray"},attrs:{href:e.config.webSite}},[e._v(e._s(e.config.webSite))]),e._v(" | "+e._s(e.config.company)+"  提供技术支持")])],1)],1)],1)},staticRenderFns:[]};var v=n("C7Lr")(f,h,!1,function(e){n("jdqn")},"data-v-8dcc05a2",null).exports,_=n("oi+F"),y=n.n(_),g=n("kfHR"),w=n.n(g);function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[];return w()(e).forEach(function(e){void 0===e._expanded&&s.default.set(e,"_expanded",t);var o=1;if(void 0!==a&&null!==a&&(o=a+1),s.default.set(e,"_level",o),n&&s.default.set(e,"parent",n),r.push(e),e.children&&e.children.length>0){var i=b(e.children,t,e,o);r=r.concat(i)}}),r}var x={name:"TreeTable",props:{data:{type:[Array,Object],required:!0},columns:{type:Array,default:function(){return[]}},evalFunc:Function,evalArgs:Array,expandAll:{type:Boolean,default:!1}},computed:{formatData:function(){var e=void 0;e=Array.isArray(this.data)?this.data:[this.data];var t=this.evalFunc||b,n=this.evalArgs?y()([e,this.expandAll],this.evalArgs):[e,this.expandAll];return t.apply(null,n)}},methods:{showRow:function(e){var t=!e.row.parent||e.row.parent._expanded&&e.row.parent._show;return e.row._show=t,t?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},toggleExpanded:function(e){var t=this.formatData[e];t._expanded=!t._expanded},iconShow:function(e,t){return 0===e&&t.children&&t.children.length>0},headerCellClass:function(e,t,n,a){return"header-cell"}}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",e._b({attrs:{data:e.formatData,"row-style":e.showRow,"header-cell-style":{color:"#606266"}}},"el-table",e.$attrs,!1),[0===e.columns.length?n("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row._level,function(e){return n("span",{key:e,staticClass:"ms-tree-space"})}),e._v(" "),e.iconShow(0,t.row)?n("span",{staticClass:"tree-ctrl",on:{click:function(n){e.toggleExpanded(t.$index)}}},[t.row._expanded?n("i",{staticClass:"el-icon-minus"}):n("i",{staticClass:"el-icon-plus"})]):e._e(),e._v("\n      "+e._s(t.$index)+"\n    ")]}}])}):e._l(e.columns,function(t,a){return n("el-table-column",{key:t.value,attrs:{label:t.text,width:t.width},scopedSlots:e._u([{key:"default",fn:function(r){return[e._l(r.row._level,function(t){return 0===a?n("span",{key:t,staticClass:"ms-tree-space"}):e._e()}),e._v(" "),e.iconShow(a,r.row)?n("span",{staticClass:"tree-ctrl",on:{click:function(t){e.toggleExpanded(r.$index)}}},[r.row._expanded?n("i",{staticClass:"el-icon-caret-bottom tree-ctrl-color"}):n("i",{staticClass:"el-icon-caret-right tree-ctrl-color"}),e._v(" "),n("span",[e._v(e._s(r.row[t.value]))])]):n("span",[e._v("\n      "+e._s(r.row[t.value])+"\n      ")])]}}])})}),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var T={name:"method",components:{treeTable:n("C7Lr")(x,S,!1,function(e){n("EkB2"),n("rYgP")},"data-v-9be6e096",null).exports},props:["x"],data:function(){return{requestColumns:[{text:"名称",value:"name",width:300},{text:"类型",value:"type",width:200},{text:"数据来源",value:"from",width:200},{text:"说明",value:"note"}],responseColumns:[{text:"名称",value:"name",width:300},{text:"类型",value:"type",width:200},{text:"说明",value:"note"}],markDownStr:""}},updated:function(){if(this.md.markDown){var e=this;e.$http.get("/japi/"+this.md.markDown,{}).then(function(t){e.$data.markDownStr=t.data})}},computed:{responseParams:function(){var e=[];if(this.md.returnType){var t=this.resolveResponseType(this.$store.state.menu.defines,{},this.md.returnType);this.mergeData(e,t),e=t}if(this.md.resultList){var n=this.resolveParamType(this.$store.state.menu.defines,this.md.resultList);this.mergeData(e,n)}return e},requestParams:function(){var e=[];if(this.md.paramType){var t=this.resolveResponseType(this.$store.state.menu.defines,{},this.md.paramType);this.mergeData(e,t)}if(this.md.paramList){var n=this.resolveParamType(this.$store.state.menu.defines,this.md.paramList);this.mergeData(e,n)}return e},m:function(){var e=this.x.split("-"),t=this.$store.state.menu.moduleList[e[0]];return t||{}},api:function(){var e=this.x.split("-"),t=this.$store.state.menu.moduleList[e[0]];if(t){var n=t.apiList[e[1]];if(n)return n}return{}},md:function(){var e=this.x.split("-"),t=this.$store.state.menu.moduleList[e[0]];if(t){var n=t.apiList[e[1]];if(n){var a=n.methodList[e[2]];return a}}return{}},config:function(){return this.$store.state.menu.config}},methods:{resolveDefineType:function(e,t,n){var a=[],r=e[n];if(!r)return console.log("未识别类型:"+n),a;if(r.type&&!r.type.startsWith("$")){t.type=r.type;var s="";return t.note&&(s+=t.note),r.note&&(s+=r.note),void(t.note=s)}if(n.startsWith("java.util.List")||n.endsWith("[]")){t.name=t.name+"[]";var o=this.resolveResponseType(e,t,r.type.replace("$",""));return o instanceof Array?(t.type=t.type+"[数组]",o):(o&&(t.type=o,console.log("解析出来不是数组:"+t.type)),void(t.type=t.type+"[数组]"))}if(t.type="",r.properties.length>0)for(var i=0;i<r.properties.length;i++){var l=r.properties[i],u={name:l.name,note:l.note,type:""},c=this.resolveDefineType(e,u,l.type.replace("$",""));c instanceof Array&&(u.children=c),a.push(u)}return a},resolveResponseType:function(e,t,n){return this.resolveDefineType(e,t,n)},resolveParamType:function(e,t){for(var n=[],a=0;a<t.length;a++){var r=t[a],s={name:r.name,note:r.note,from:r.from,type:r.type};s.type&&s.type.startsWith("$")&&(s.children=this.resolveDefineType(e,s,s.type.replace("$",""))),s.name.endsWith("[]")&&(s.type=s.type+"[数组]"),r.properties.length>0&&(s.children=this.resolveParamType(e,r.properties)),n.push(s)}return n},mergeData:function(e,t){if(e instanceof Array)for(var n in t){var a=t[n].name,r=this.findInArrayByName(e,a);null===r?(a.endsWith("[]")&&this.removeFromArrayByName(e,a.replace("[]","")),e.push(t[n])):this.mergeData(r,t[n])}else if(t.name)for(var s in t.name.endsWith("[]")&&e.removeAttribute(t.name.replace("[]","")),t)e.hasOwnProperty(s)&&e[s]?this.mergeData(e[s],t[s]):e[s]=t[s];return e},findInObjectByName:function(e,t){for(var n in e)if(n===t)return e[n];return null},findInArrayByName:function(e,t){for(var n in e)if(e[n].name===t)return e[n];return null},removeFromArrayByName:function(e,t){var n=0;for(var a in e){if(e[a].name===t)return void e.splice(n,1);n++}}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v(e._s(e.m.name))]),e._v(" "),n("el-breadcrumb-item",[e._v(e._s(e.api.name))]),e._v(" "),n("el-breadcrumb-item",[n("span",{staticStyle:{color:"rgb(171, 15, 58)"}},[e._v(e._s(e.md.name))])])],1)],1),e._v(" "),n("div",[e.md.markDown&&e.config.markDown>0?n("el-row",[n("el-col",{attrs:{span:24}},[n("mavon-editor",{attrs:{value:e.markDownStr,subfield:!1,defaultOpen:"preview",toolbarsFlag:!1,boxShadow:!1,editable:!1,ishljs:!0}})],1)],1):e._e(),e._v(" "),e.md.markDown&&1==e.config.markDown?e._e():n("el-row",[n("el-col",{attrs:{span:24}},[n("span",{staticClass:"k_n"},[e._v("接口地址：")]),n("span",{staticClass:"k_v"},[e._v(e._s(e.md.path))])]),e._v(" "),n("el-col",{attrs:{span:24}},[n("span",{staticClass:"k_n"},[e._v("请求方式：")]),n("span",{staticClass:"k_v"},[e._v(e._s(null===e.md.type?"不限":e.md.type))])]),e._v(" "),n("el-col",{attrs:{span:24}},[n("span",{staticClass:"k_n"},[e._v("接口说明：")]),e._v(" "),n("div",{staticClass:"k_v",domProps:{innerHTML:e._s(e.md.note)}})]),e._v(" "),n("el-col",{attrs:{span:24}},[n("span",{staticClass:"k_n"},[e._v("请求参数：")])]),e._v(" "),n("el-col",{attrs:{span:24}},[n("tree-table",{attrs:{data:e.requestParams,columns:e.requestColumns,border:""}})],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("span",{staticClass:"k_n"},[e._v("响应参数：")])]),e._v(" "),n("el-col",{attrs:{span:24}},[n("tree-table",{attrs:{data:e.responseParams,columns:e.responseColumns,border:""}})],1)],1)],1)])},staticRenderFns:[]};var L=n("C7Lr")(T,E,!1,function(e){n("RH2L")},"data-v-45c9f0aa",null).exports;s.default.use(l.a);var C=new l.a({routes:[{path:"/",name:"index",component:v,children:[{path:"/method/:x",component:L,props:!0}]}]}),k={namespaced:!0,state:{config:{},defines:{},moduleList:[]},mutations:{SET_CONFIG:function(e,t){e.config=t},SET_DEFINES:function(e,t){e.defines=t},SET_MODULE_LIST:function(e,t){e.moduleList=t}},actions:{SET_CONFIG:function(e,t){e.commit("SET_CONFIG",t)},SET_DEFINES:function(e,t){e.commit("SET_DEFINES",t)},SET_MODULE_LIST:function(e,t){e.commit("SET_MODULE_LIST",t)}}};s.default.use(d.a);var D=new d.a.Store({modules:{menu:k}}),$=n("aozt"),A=n.n($).a.create({baseURL:"../",timeout:2e4,headers:{"Content-Type":"application/json"}}),F={install:function(e){e.prototype.$http=A}},I=n("Rw8D"),O=n.n(I);n("M89r");s.default.use(r.a),s.default.use(F),s.default.use(O.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:C,store:D,components:{App:i},render:function(e){return e(i)}})},RH2L:function(e,t){},"TsY+":function(e,t){},dcI2:function(e,t){},iHEG:function(e,t){},jdqn:function(e,t){},rYgP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.69cc66cf66f127a5cd4e.js.map